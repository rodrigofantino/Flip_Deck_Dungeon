FLIP DECK DUNGEON
TECHNICAL DESIGN DOCUMENT (TDD)

========================
1. ARQUITECTURA GENERAL
========================
Motor: Godot 4.5
Separacion estricta entre:
- Logica
- Datos
- UI

========================
2. RUNMANAGER
========================
Fuente unica de verdad.
Responsable de:
- Estado de la run
- Cartas runtime
- Economia
- XP y level up
- Traits
- Orden de enemigos

========================
3. COMBATMANAGER
========================
Orquestador logico.
No conoce UI.
Comunica por seniales.

========================
4. CARDVIEW
========================
UI pura.
Refleja estado, no lo modifica.
Tamano cartas: base 620x860 / en mesa 155x215

========================
5. RESOURCES
========================
- CardDefinition
- TraitResource
- BoosterPackDefinition
- EnemyDefinition

Nunca se modifican en runtime.

========================
6. SENIALES
========================
Toda comunicacion es desacoplada.
Nada de referencias directas innecesarias.

========================
7. PERSISTENCIA
========================
- Guardado de run (save_run.json)
- Progreso persistente (coleccion, oro, boosters)
- Runs temporales no se guardan

========================
8. UI Y POPUPS
========================
- PausePopup
- DefeatPopup
- VictoryPopup con VFX (code-driven)
- LevelUpPopup

========================
9. CONVENCIONES
========================
- Tipado explicito
- Nombres consistentes
- Una responsabilidad por clase

========================
10. ESCALABILIDAD
========================
Agregar contenido no debe requerir refactor.

========================
11. PRINCIPIOS TECNICOS
========================
- Claridad antes que optimizacion
- Evitar deuda tecnica
- Codigo legible y mantenible
